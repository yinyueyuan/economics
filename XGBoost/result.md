# Predicting the Long-term Impact of Carbon Trading Policies on Corporate Investment Efficiency Using XGBoost
When assessing the impact of carbon emission trading policies on corporate investment efficiency (IneInvest), traditional econometric methods like Difference-in-Differences (DID) are primarily used to estimate short-term policy effects. However, to further explore the long-term effects of the policy and enhance the predictive capability of the study, this paper employs Extreme Gradient Boosting (XGBoost) for machine learning modeling to forecast future trends in corporate investment efficiency.
## Model Construction
The data is sourced from CSMAR, WIND, and the financial reports of listed companies, covering A-share companies from 2008 to 2022. The selected independent variables include corporate financial characteristics (such as growth opportunities (Growth), financial leverage (Lev), operating cash flow (CFO), firm size (Asset), etc.), policy factors (TreatPost), as well as industry and regional control variables.
First, text fields in the dataset were processed and converted into numerical data using Python. For fields that could not be directly converted (such as text data containing commas), string processing methods were used for cleaning. Additionally, median imputation was applied to handle missing values, ensuring data completeness.
XGBoost adopts the Gradient Boosting Decision Tree (GBDT) framework, constructing multiple weak learners (decision trees) and continuously optimizing the loss function to improve prediction accuracy.
The model training results are as follows:

<img width="423" height="336" alt="image" src="https://github.com/user-attachments/assets/c0e9e3fa-5d34-43bc-8594-56ed66fe16d7" />

To better evaluate the model, two evaluation metrics were introduced: MAE (Mean Absolute Error) and R² (Coefficient of Determination). MAE measures the average difference between predicted and actual values, while R² measures the model's ability to explain the variability of the target variable.
In this study, the model achieved an MAE of 0.8025 and an R² of 0.8633, indicating that the model explains approximately 86.33% of the variability in investment returns, with a relatively small prediction error, demonstrating superior performance.
For further analysis, "Weight" was selected as the criterion for measuring feature importance, and a feature importance plot was generated based on the calculations.
In the feature importance plot, features are sorted by importance, with the most important features at the top. The plot displays the top ten features that have the greatest impact on the model, contributing the most to the prediction of the target variable. According to the plot, it can be observed that Growth, Lev, and Asset play a dominant role in predicting IneInvest. These features appear frequently in the model and effectively enhance prediction accuracy.
In the feature importance plot, Growth is identified as the most important feature, indicating that a company's growth potential dominates the prediction of investment returns (IneInvest). This suggests that companies with higher growth potential tend to achieve higher investment returns, making growth rate a critical factor in investment decisions. Meanwhile, Lev (leverage ratio) and Asset (asset size), as important indicators of a company's financial structure, also exhibit high feature importance. This implies that leverage levels and asset size significantly impact corporate investment returns. High leverage may lead to increased financial costs, thereby affecting investment returns, highlighting the importance of prudent financial leverage management for optimizing corporate investment performance. Larger asset sizes may provide companies with more resources for investment and expansion.
